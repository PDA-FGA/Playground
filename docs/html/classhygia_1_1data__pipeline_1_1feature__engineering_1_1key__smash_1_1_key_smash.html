<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hygia: hygia.data_pipeline.feature_engineering.key_smash.KeySmash Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Hygia
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>hygia</b></li><li class="navelem"><b>data_pipeline</b></li><li class="navelem"><b>feature_engineering</b></li><li class="navelem"><b>key_smash</b></li><li class="navelem"><a class="el" href="classhygia_1_1data__pipeline_1_1feature__engineering_1_1key__smash_1_1_key_smash.html">KeySmash</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classhygia_1_1data__pipeline_1_1feature__engineering_1_1key__smash_1_1_key_smash-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">hygia.data_pipeline.feature_engineering.key_smash.KeySmash Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a65214ed127cf6a6491b1f249618e626d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhygia_1_1data__pipeline_1_1feature__engineering_1_1key__smash_1_1_key_smash.html#a65214ed127cf6a6491b1f249618e626d">__init__</a> (self)</td></tr>
<tr class="separator:a65214ed127cf6a6491b1f249618e626d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a682baee004b60c551f63c877a3270b3a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhygia_1_1data__pipeline_1_1feature__engineering_1_1key__smash_1_1_key_smash.html#a682baee004b60c551f63c877a3270b3a">average_of_char_count_squared</a> (self, str text)</td></tr>
<tr class="separator:a682baee004b60c551f63c877a3270b3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02080ee2e117a12c68b2749b5946734e"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhygia_1_1data__pipeline_1_1feature__engineering_1_1key__smash_1_1_key_smash.html#a02080ee2e117a12c68b2749b5946734e">count_sequence_squared</a> (self, str text, str opt)</td></tr>
<tr class="separator:a02080ee2e117a12c68b2749b5946734e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43cd9f4f2e7bbb1797eea22d0c545f67"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhygia_1_1data__pipeline_1_1feature__engineering_1_1key__smash_1_1_key_smash.html#a43cd9f4f2e7bbb1797eea22d0c545f67">ratio_of_numeric_digits_squared</a> (self, str text)</td></tr>
<tr class="separator:a43cd9f4f2e7bbb1797eea22d0c545f67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab736e6cfbbdc324b493778627318f41e"><td class="memItemLeft" align="right" valign="top">pd.DataFrame&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhygia_1_1data__pipeline_1_1feature__engineering_1_1key__smash_1_1_key_smash.html#ab736e6cfbbdc324b493778627318f41e">extract_key_smash_features</a> (self, pd.DataFrame df, str column_name, bool normalize=False)</td></tr>
<tr class="separator:ab736e6cfbbdc324b493778627318f41e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:abaf990cf994cfa58ac61d7188e9db461"><td class="memItemLeft" align="right" valign="top"><a id="abaf990cf994cfa58ac61d7188e9db461" name="abaf990cf994cfa58ac61d7188e9db461"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>char_sets</b></td></tr>
<tr class="separator:abaf990cf994cfa58ac61d7188e9db461"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:afc42a4b6aa51c24fad51e85f0c269fd2"><td class="memItemLeft" align="right" valign="top">pd.DataFrame&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhygia_1_1data__pipeline_1_1feature__engineering_1_1key__smash_1_1_key_smash.html#afc42a4b6aa51c24fad51e85f0c269fd2">_normalize_column</a> (self, pd.DataFrame df, str column)</td></tr>
<tr class="separator:afc42a4b6aa51c24fad51e85f0c269fd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">A class for calculating metrics to indicate key smashing behavior in a text.

Key smashing is the act of typing on a keyboard in a rapid and uncontrolled manner,
often resulting in a series of random characters being entered into a document or text field.

Examples
--------
Use this class like this:

.. code-block:: python

    key_smash = KeySmash()
    df = key_smash.extract_key_smash_features(df, "text_column")
    print(df)
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a65214ed127cf6a6491b1f249618e626d" name="a65214ed127cf6a6491b1f249618e626d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65214ed127cf6a6491b1f249618e626d">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def hygia.data_pipeline.feature_engineering.key_smash.KeySmash.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initialize the KeySmash class.
</pre> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="afc42a4b6aa51c24fad51e85f0c269fd2" name="afc42a4b6aa51c24fad51e85f0c269fd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc42a4b6aa51c24fad51e85f0c269fd2">&#9670;&#160;</a></span>_normalize_column()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> pd.DataFrame hygia.data_pipeline.feature_engineering.key_smash.KeySmash._normalize_column </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pd.DataFrame&#160;</td>
          <td class="paramname"><em>df</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>column</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Normalize a given column in a dataframe.

:param df: Dataframe to normalize the column in.
:type df: pandas.DataFrame
:param column: Name of the column to be normalized.
:type column: str

:return: The input dataframe with the normalized column.
:rtype: pandas.DataFrame
</pre> 
</div>
</div>
<a id="a682baee004b60c551f63c877a3270b3a" name="a682baee004b60c551f63c877a3270b3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a682baee004b60c551f63c877a3270b3a">&#9670;&#160;</a></span>average_of_char_count_squared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> float hygia.data_pipeline.feature_engineering.key_smash.KeySmash.average_of_char_count_squared </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>text</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The function takes a string text as input and splits it into words.
For each word, it counts the number of occurrences of each character in the word, squares those counts, and then sums them.
It then divides the sum by the length of the word and appends the result to a list words_results.
Finally, it returns the mean of the words_results list, if the list is not empty, otherwise it returns 0.

:param text: The text to use for the calculation.
:type text: str
:return: The calculated Char Frequency Metric.
:rtype: float

Examples
--------
Use this function like this:

.. code-block:: python

    key_smash = KeySmash()

    res = key_smash.average_of_char_count_squared("PUENTECILLA KM. 1.7")
    print(res)
    # Output: 1.121212121212121

    res = key_smash.average_of_char_count_squared("ASDASD XXXX")
    print(res)
    # Output: 3.0
</pre> 
</div>
</div>
<a id="a02080ee2e117a12c68b2749b5946734e" name="a02080ee2e117a12c68b2749b5946734e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02080ee2e117a12c68b2749b5946734e">&#9670;&#160;</a></span>count_sequence_squared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> float hygia.data_pipeline.feature_engineering.key_smash.KeySmash.count_sequence_squared </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>opt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This function takes a text and opt as input. It checks a set of characters, converts text to lowercase, iterates through characters,
increments counter if finds a sequence of characters in set, if not it adds square of counter to a list, resets counter to 1.
After iterating it returns sum of list divided by length of text.

:param text: The text to use for the calculation.
:type text: str
:param opt: The type of characters to consider for the calculation, can be one of 'vowels', 'consonants', or 'special_characters'.
:type opt: str
:return: The calculated Irregular Sequence Metric.
:rtype: float

Examples
--------
Use this function like this:

.. code-block:: python

    key_smash = KeySmash()

    res = key_smash.count_sequence_squared("PUENTECILLA KM. 1.7", "vowels")
    print(res)
    # Output: 0.21052631578947367

    res = key_smash.count_sequence_squared("ASDASD XXXX", "consonants")
    print(res)
    # Output: 2.1818181818181817

    res = key_smash.count_sequence_squared("!@#$% ASDFGHJKL", "special_characters")
    print(res)
    # Output: 1.5625
</pre> 
</div>
</div>
<a id="ab736e6cfbbdc324b493778627318f41e" name="ab736e6cfbbdc324b493778627318f41e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab736e6cfbbdc324b493778627318f41e">&#9670;&#160;</a></span>extract_key_smash_features()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> pd.DataFrame hygia.data_pipeline.feature_engineering.key_smash.KeySmash.extract_key_smash_features </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pd.DataFrame&#160;</td>
          <td class="paramname"><em>df</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>column_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>normalize</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Extract key smash features from a given dataframe and column.

:param df: Dataframe to extract key smash features from.
:type df: pandas.DataFrame
:param column_name: Name of the column in the dataframe that contains the text data to extract features from.
:type column_name: str
:param normalize: Indicates whether to normalize the key smash feature columns. Default is True.
:type normalize: bool, optional

:return: The input dataframe with additional columns for key smash features: 'irregular_sequence_vowels', 'irregular_sequence_consonants', 'irregular_sequence_special_characters', 'number_count_metric', 'char_frequency_metric'
:rtype: pandas.DataFrame

Examples
--------
Use this function like this:

.. code-block:: python

    import pandas as pd
    key_smash = KeySmash()
    df = pd.DataFrame({"text_column": ["abcdefgh", "ijklmnop", "qrstuvwxyz"]})
    df = key_smash.extract_key_smash_features(df, "text_column", normalize=False)
    print(df.head())
</pre> 
</div>
</div>
<a id="a43cd9f4f2e7bbb1797eea22d0c545f67" name="a43cd9f4f2e7bbb1797eea22d0c545f67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43cd9f4f2e7bbb1797eea22d0c545f67">&#9670;&#160;</a></span>ratio_of_numeric_digits_squared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> float hygia.data_pipeline.feature_engineering.key_smash.KeySmash.ratio_of_numeric_digits_squared </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>text</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This function takes text as input, splits it into a list of words, initializes a variable to 0.
It iterates through list of words, checking if each word contains both numeric digits and non-numeric characters.
If yes, it counts number of numeric digits, squares it and adds to variable.
It returns the value of that variable divided by length of original text, if the list is empty it returns 0.

:param text: The text to extract the metric from.
:type text: str
:return: The calculated Number Count Metric.
:rtype: float

Examples
--------
Use this function like this:

.. code-block:: python

    key_smash = KeySmash()
    
    res = key_smash.ratio_of_numeric_digits_squared("ABC 123 !@#")
    print(res)
    # Output: 0.0

    res = key_smash.ratio_of_numeric_digits_squared("ABC123 !@#")
    print(res)
    # Output: 0.9
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/alvesisaque/workspace/Playground/hygia/data_pipeline/feature_engineering/key_smash.py</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
